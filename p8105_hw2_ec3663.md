p8105_hw2_ec3663
================
Eunsuh Cho
2023-09-28

``` r
library(tidyverse)
```

    ## ── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──
    ## ✔ dplyr     1.1.3     ✔ readr     2.1.4
    ## ✔ forcats   1.0.0     ✔ stringr   1.5.0
    ## ✔ ggplot2   3.4.3     ✔ tibble    3.2.1
    ## ✔ lubridate 1.9.2     ✔ tidyr     1.3.0
    ## ✔ purrr     1.0.2     
    ## ── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──
    ## ✖ dplyr::filter() masks stats::filter()
    ## ✖ dplyr::lag()    masks stats::lag()
    ## ℹ Use the conflicted package (<http://conflicted.r-lib.org/>) to force all conflicts to become errors

# Problem 1

## Cleaning the data

Cleaning the data in pols-month.csv

``` r
pols_df =
  read.csv("data/pols-month.csv") |> 
  janitor::clean_names() |> 
  separate(mon, into = c("year", "month", "day")) |> 
  mutate(
    month = case_match(
      month,
      "01" ~ "Jan",
      "02" ~ "Feb",
      "03" ~ "Mar",
      "04" ~ "Apr",
      "05" ~ "May",
      "06" ~ "Jun",
      "07" ~ "Jul",
      "08" ~ "Aug",
      "09" ~ "Sep",
      "10" ~ "Oct",
      "11" ~ "Nov",
      "12" ~ "Dec"),
    president = case_when(
      prez_gop == 1 ~ "gop",
      prez_dem == 1 ~ "dem"),
    year = as.numeric(year)) |> 
  select(-prez_dem, -prez_gop, -day)
```

Cleaning the data in snp.csv

``` r
snp_df =
  read.csv("data/snp.csv") |> 
  janitor::clean_names() |> 
  separate(date, into = c("month", "day", "year")) |> 
  mutate(
    month = case_match(
      month,
      "1" ~ "Jan",
      "2" ~ "Feb",
      "3" ~ "Mar",
      "4" ~ "Apr",
      "5" ~ "May",
      "6" ~ "Jun",
      "7" ~ "Jul",
      "8" ~ "Aug",
      "9" ~ "Sep",
      "10" ~ "Oct",
      "11" ~ "Nov",
      "12" ~ "Dec"),
     year = ifelse(as.numeric(year) >= 0 & as.numeric(year) <= 15,
                as.numeric(year) + 2000, as.numeric(year) + 1900)) |> 
  select(-day) |> 
  relocate("year", "month")
```

Cleaning the data in unemployment.csv

``` r
unemployment_df =
  read.csv("data/unemployment.csv") |> 
  pivot_longer(
    Jan:Dec,
    names_to = "month") |> 
  rename_with(tolower, everything())
```

## Merging the data

Merging snp into pols

``` r
snp_pols_df =
  full_join(pols_df, snp_df, by = c("year", "month"))
```

Merging unemployment into snp_pols_df

``` r
fte_df =
  full_join(snp_pols_df, unemployment_df, by = c("year", "month"))
```

## Dataset descriptions

`The dataset pols_df contains 822 observations and 9 variables that describe the number of governmental officials in the Republican and Democrat parties by year and month. The dataset snp_df contains 787 observations and 3 variables that describe the S&P stock index closing value by year and month. The dataset unemployment_df contains 816 observations and 3 variables that describe the unemployment percentage by year and month. Upon merging the first three datasets, the dataset fte_df contains 828 observations and 11 variables that include information regarding the president's party, the S&P stock index closing value, and unemployment rate. The range of months/years with no missing values is January of 1950 to June of 2015. Variables to note include year, month, president, close, and value.`
